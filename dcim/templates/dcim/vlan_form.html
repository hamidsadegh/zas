{% extends "core/base.html" %}

{% block title %}{% if form.instance.pk %}Edit VLAN{% else %}Add VLAN{% endif %}{% endblock %}

{% block styles %}
{% include "dcim/_layout_styles.html" %}
.form-shell { width: 60%; max-width: 900px; margin: 0 auto; background: var(--surface); border-radius: 18px; padding: 2rem; box-shadow: 0 14px 34px rgba(15, 29, 64, 0.08); border: 1px solid #dde6f4; }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
.form-field { display: flex; flex-direction: column; }
.form-field label { font-weight: 600; color: var(--muted); margin-bottom: 0.25rem; }
.form-actions { margin-top: 1.5rem; }
{% endblock %}

{% block content %}
<section class="form-shell">
    <h1 style="margin-top:0;">{% if form.instance.pk %}Edit VLAN{% else %}Add VLAN{% endif %}</h1>
    <form id="vlan-form" method="post" class="form-grid">
        {% csrf_token %}
        {% for field in form %}
            <div class="form-field">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field }}
                {% if field.errors %}
                    <small style="color:#c53030;">{{ field.errors|striptags }}</small>
                {% endif %}
            </div>
        {% endfor %}
    </form>
    <div class="form-actions">
        <a href="{% url 'vlan_list' %}" class="btn btn-secondary">Cancel</a>
        {% if form.instance.pk %}
            <form method="post" action="{% url 'vlan_delete' form.instance.pk %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger" onclick="return confirm('Delete this VLAN?');">Delete</button>
            </form>
        {% endif %}
        <button type="submit" class="btn btn-primary" form="vlan-form">Save</button>
    </div>
</section>
{% endblock %}
