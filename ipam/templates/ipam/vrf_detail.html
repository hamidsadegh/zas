{% extends "core/base.html" %}
{% block title %}VRF {{ vrf.name }}{% endblock %}

{% block styles %}
main { max-width: 1200px; }
.card { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 1.25rem; box-shadow: var(--shadow); }
.table { width:100%; border-collapse: collapse; }
.table th { text-align:left; font-size:0.8rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); padding: 0.5rem 0; border-bottom: 1px solid var(--border); }
.table td { padding: 0.55rem 0; border-bottom: 1px solid var(--border); }
.muted { color: var(--muted); }
.actions a { margin-right:0.5rem; }
{% endblock %}

{% block content %}
<div class="card" style="margin-bottom:1rem;">
    <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:0.75rem;">
        <div>
            <p class="tag">VRF</p>
            <h1 style="margin:0;">{{ vrf.name }}</h1>
            <p class="muted" style="margin:0;">{{ vrf.rd|default:"No RD" }} · {{ vrf.site.name|default:"No site" }}</p>
        </div>
        <div>
            <a href="{% url 'ipam:vrf_edit' vrf.id %}">Edit</a>
            <a href="{% url 'ipam:vrf_delete' vrf.id %}">Delete</a>
            <a href="{% url 'ipam:vrf_list' %}">Back</a>
        </div>
    </div>
    {% if vrf.description %}
        <p style="margin-top:0.6rem;">{{ vrf.description }}</p>
    {% endif %}
</div>

<div class="card">
    <h3 style="margin-top:0;">Prefixes in this VRF</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Prefix</th>
                <th>Site</th>
                <th>Role</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for p in prefixes %}
            <tr>
                <td><a href="{% url 'ipam:prefix_detail' p.id %}">{{ p.cidr }}</a></td>
                <td>{{ p.site.name|default:"—" }}</td>
                <td>{{ p.get_role_display }}</td>
                <td>{{ p.get_status_display }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4" class="muted">No prefixes in this VRF.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
