{% extends "core/base.html" %}
{% block title %}VRFs{% endblock %}

{% block styles %}
{% include "dcim/_layout_styles.html" %}
main { width: 50%; max-width: 900px; margin: 0 auto; }
.card.section { max-width: 900px; margin: 0 auto; }
.table-actions .btn-ghost { padding: 0.3rem 0.7rem; border-radius: 10px; font-size: 0.9rem; }
{% endblock %}

{% block content %}
<div class="card section">
    <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:0.75rem;">
        <div>
            <p class="tag">IPAM</p>
            <h1 style="margin:0;">VRFs</h1>
        </div>
        <div style="display:flex; gap:0.6rem; align-items:center;">
            <a href="{% url 'ipam:index' %}" class="btn back">Back</a>
            <a class="btn btn-primary" href="{% url 'ipam:vrf_add' %}">Add VRF</a>
        </div>
    </div>
    <div class="table-scroll">
    <table class="data-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>RD</th>
                <th>Site</th>
                <th>Prefixes</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for vrf in vrfs %}
            <tr>
                <td><a href="{% url 'ipam:vrf_detail' vrf.id %}">{{ vrf.name }}</a></td>
                <td>{{ vrf.rd|default:"—" }}</td>
                <td>{{ vrf.site.name|default:"—" }}</td>
                <td>{{ vrf.prefixes.count }}</td>
                <td class="table-actions">
                    <a class="btn btn-ghost small" href="{% url 'ipam:vrf_edit' vrf.id %}">Edit</a>
                    <a class="btn btn-ghost small btn-danger" href="{% url 'ipam:vrf_delete' vrf.id %}">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="5" class="muted">No VRFs found.</td></tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>
{% endblock %}
