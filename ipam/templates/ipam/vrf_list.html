{% extends "core/base.html" %}
{% block title %}VRFs{% endblock %}

{% block styles %}
main { max-width: 1200px; }
.card { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 1.25rem; box-shadow: var(--shadow); }
.table { width:100%; border-collapse: collapse; }
.table th { text-align:left; font-size:0.8rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); padding: 0.5rem 0; border-bottom: 1px solid var(--border); }
.table td { padding: 0.55rem 0; border-bottom: 1px solid var(--border); }
.actions a { margin-right:0.5rem; }
.form-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap:0.6rem; }
.input, textarea, select { width:100%; padding:0.5rem 0.75rem; border:1px solid var(--border); border-radius:10px; }
.btn { border:none; border-radius:999px; padding:0.55rem 1.1rem; font-weight:700; cursor:pointer; background: var(--primary); color:#fff; box-shadow: var(--shadow); }
.section { display:grid; gap:0.75rem; }
{% endblock %}

{% block content %}
<div class="card section">
    <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:0.75rem;">
        <div>
            <p class="tag">IPAM</p>
            <h1 style="margin:0;">VRFs</h1>
        </div>
        <div style="display:flex; gap:0.6rem; align-items:center;">
            <a href="{% url 'ipam:index' %}" class="link-btn">← Back</a>
            <a class="btn" href="{% url 'ipam:vrf_add' %}">Add VRF</a>
        </div>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>RD</th>
                <th>Site</th>
                <th>Prefixes</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for vrf in vrfs %}
            <tr>
                <td><a href="{% url 'ipam:vrf_detail' vrf.id %}">{{ vrf.name }}</a></td>
                <td>{{ vrf.rd|default:"—" }}</td>
                <td>{{ vrf.site.name|default:"—" }}</td>
                <td>{{ vrf.prefixes.count }}</td>
                <td class="actions">
                    <a href="{% url 'ipam:vrf_edit' vrf.id %}">Edit</a>
                    <a href="{% url 'ipam:vrf_delete' vrf.id %}">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="5" class="muted">No VRFs found.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
